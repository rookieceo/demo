(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{347:function(t,e,n){"use strict";n.r(e);n(65);var r,o,c=n(16),d=n(58),l=n.n(d),m={data:function(){return{items:[],loading:!0,headers:[{text:"번호",value:"postId"},{text:"제목",value:"title",width:"10%"},{text:"내용",value:"content",width:"40%"},{text:"작성일",value:"createdAt"},{text:"작성자",value:"createdBy"},{text:"최종수정일",value:"modifiedAt"},{text:"#",value:"action",align:"center",sortable:!1}]}},filters:{toDateFormat:function(t){var e=l()(t);return e.isValid()?e.format("YYYY-MM-DD"):(console.log(e),"")}},created:function(){},mounted:function(){this.loadData()},watch:{pagination:{handler:function(){this.loadData()},deep:!0}},computed:{pagination:{get:function(){return this.$store.getters.pagination},set:function(t){this.$store.commit("setPagination",t)}}},methods:{loadData:(o=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,this.items=[],e=this.pagination,n=e.sortBy,r=e.descending,o=e.page,c=e.itemsPerPage,t.next=5,this.$axios.$get("/api/posts",{params:{page:o,size:c,direction:r[0]?"DESC":"ASC",sortBy:n[0]?n[0]:"createdAt"}});case 5:data=t.sent,this.loading=!1,this.$store.commit("setTotalItems",data.totalElements),this.items=data.content;case 9:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),deleteItem:(r=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$delete("/api/posts/".concat(e.postId));case 2:return t.sent,t.next=5,this.loadData();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)}),editItem:function(t){this.$router.push("/posts/".concat(t.postId))}}},v=n(45),f=n(67),h=n.n(f),x=n(276),_=n(269),w=n(253),y=n(344),D=n(342),k=n(343),C=n(250),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",{attrs:{xs12:"",sm10:"",md10:"",lg10:"",xl10:""}},[n("div",{staticClass:"text-center"}),t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("목록")]),t._v(" "),n("v-card-text",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,options:t.pagination,"server-items-length":t.pagination.totalItems,"item-key":"postId",loading:t.loading},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item.createdAt",fn:function(e){var n=e.item;return[t._v(t._s(t._f("toDateFormat")(n.createdAt)))]}},{key:"item.modifiedAt",fn:function(e){var n=e.item;return[t._v(t._s(t._f("toDateFormat")(n.modifiedAt)))]}},{key:"item.action",fn:function(e){var r=e.item;return[n("v-btn",{staticClass:"mr-2",on:{click:function(e){return e.stopPropagation(),t.editItem(r)}}},[t._v("수정")]),t._v(" "),n("v-btn",{on:{click:function(e){return e.stopPropagation(),t.deleteItem(r)}}},[t._v("삭제")])]}}])})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{tile:"",color:"primary",nuxt:"",to:"/new"}},[t._v("등록")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:x.a,VCard:_.a,VCardActions:w.a,VCardText:w.b,VCardTitle:w.c,VDataTable:y.a,VFlex:D.a,VLayout:k.a,VSpacer:C.a})}}]);